/*! HelpSmith Web Help System 3.1
* http://www.helpsmith.com
* Copyright (c) 2007-2020 Divcom Software */
function hsNaviObj(){function t(a){var e=$('<div id="sort-result-header"></div>');$('<span class="se-message"></span>').append(a).appendTo(e);$("#search-result").empty().append(e)}function x(a){var e=function(c,d){return c.data("title").localeCompare(d.data("title"))};b.$searchResultTree.hsTree("sortChildren","title"==a?e:function(c,d){return c.data("hsRank")==d.data("hsRank")?e(c,d):d.data("hsRank")-c.data("hsRank")});$.cookie("hswh-ssd",b.searchResultSortKind,{expires:30,path:"/"})}function z(a){u||
v?u&&a(!0):(v=!0,$.getScript("js/search-index.min.js").done(function(){u=!0;v=!1;a(!0)}).fail(function(){v=!1;a(!1)}))}var b=this;this.ready=!1;this.searchResultSortKind="rank";this.currentTopicContext=-1;this.hlKeywordNode=null;var u=this.specKeyPressedOnPopupLink=!1,v=!1;this.init=function(){var a=$.cookie("hswh-ssd");this.searchResultSortKind="title"!=a&&"rank"!=a?this.searchResultSortKind:a;$("#tabs").tabs({activate:function(){b.updateCurrentTab()}}).addClass("hs-ready");a=getWHSettings("tocAtimateExpandingCollapsingDuration",
0);this.$tocTree=$("#toc-tree");this.$tocTree.hsTree({expandSpeed:0>a?0:a,autoCollapse:getWHSettings("tocOnlyExpandSingleHeading",!1),noButtons:this.$tocTree.hasClass("hs-btn-none"),noIcons:this.$tocTree.hasClass("hs-icons-none"),onActivate:function(c){var d=c.find("> .hstree-node-cnt a");if(1==d.length){var f=d.attr("href");f&&"#"!=f&&(window.open(f,d.attr("target")),b.closeNavi())}getWHSettings("tocAutoExpandOnActivate",!1)&&b.$tocTree.hsTree("expandNode",c)},onCanReActivate:function(c){c=c.find("> .hstree-node-cnt a");
return 1==c.length&&(c=c.attr("target").toLowerCase(),"_blank"==c||"_top"==c)?!0:!1}});this.$indexTree=$("#index-tree").hsTree({expandSpeed:0,onNodeRender:function(c){c.find("> .hstree-node-btn, > .hstree-node-cnt .hstree-node-icon").remove()},onQueryExpand:function(c,d){if(!d)return!1},onClick:function(c){var d=b.$indexTree.hsTree("getActiveNode");d&&d.is(c)&&b.$indexTree.hsTree("reActivateNode")},onActivate:function(c){var d=c.attr("data-topics");if("undefinded"!==typeof d){try{d=d.split(",")}catch(g){d=
[]}if("object"===typeof d&&1<d.length){b.showKwdTopicList(c,d);return}}d=c.find("> .hstree-node-cnt a");if(1==d.length){var f=d.attr("href");if(f&&"#"!=f){b.destroyPopupBox();window.open(f,d.attr("target"));b.closeNavi();return}}b.showKwdNoEntryWarning(c)}});this.$indexTree.find(".hstree-node").each(function(){b.$indexTree.hsTree("expandNode",$(this))});this.$indexTree.on("scroll",function(){b.destroyPopupBox()});$("input#kwd-search").on("keyup",function(c){b.selectKeyword($(this),c.which)});a=$("#search-form");
if(a.length){var e=a.find(".search-btn");if(e.length)e.on("click",function(){b.search()});a=a.find("input#squery");if(a.length)a.on("keyup",function(c){13==c.which&&(c.preventDefault(),b.search())})}$("body").on("keydown",function(c){switch(c.which){case 27:var d=b.getSelectedTab();"tab-index"==d?$("#popup-box").length&&(c.preventDefault(),b.specKeyPressedOnPopupLink=!0,b.destroyPopupBox(),$("input#kwd-search").focus()):"tab-search"==d&&$("#sorting-popup-menu").is(":visible")&&(c.preventDefault(),
b.hideSortingPopupMenu());break;case 38:case 40:"tab-index"==b.getSelectedTab()&&(d=$("#popup-box"),d.length&&!d.find(".hs-popuplink:focus").length&&(d=d.find(".hs-popuplink"),d.length&&(c.preventDefault(),40==c.which?d.first().focus():d.last().focus())))}}).on("mousedown",function(c){var d=b.getSelectedTab();"tab-index"==d?(d=$("#popup-box:visible"),d.length&&!$(c.target).closest(d).length&&b.destroyPopupBox()):"tab-search"==d&&(d=$("#sorting-popup-menu:visible"),d.length&&!$(c.target).closest(d).length&&
b.hideSortingPopupMenu())});$(window).on("resize.hsNaviObj",function(){b.alignTabPanel();b.alignIndexTree();b.alignSearchResultTree();b.updatePopupBoxWidth();b.hideSortingPopupMenu()}).trigger("resize.hsNaviObj")};this.closeNavi=function(){var a=window.parent.document;a&&$("#hs-header-m",a).is(":visible")&&window.parent.window.hsWebHelp.showNavi(!1)};this.getTextLabel=function(a,e,c){(a=$("body").attr("data-"+a))||(a=e);"undefined"!==typeof c&&(a=a.replace("%s",c));return a};this.createPopupBox=function(){var a=
$("<div></div>").attr("id","popup-box"),e=$("<div></div>").addClass("container").appendTo(a);$("<div></div>").addClass("content").appendTo(e);return a};this.calcPopupBoxWidth=function(a,e){"undefined"===typeof e&&(e=a.position().left);var c=$(window).width()-2*e-(a.outerWidth(!0)-a.width());350<c&&(c=350);return c};this.updatePopupBoxWidth=function(a){"undefined"===typeof a&&(a=$("#popup-box"));a.length&&a.css("width",this.calcPopupBoxWidth(a))};this.alignPopupBox=function(a,e){var c=a.find("> .hstree-node-cnt a"),
d=c.offset();e.css("width",this.calcPopupBoxWidth(e,d.left));var f=!0;c=d.top+c.outerHeight(!0)+11;c+e.outerHeight(!0)>$(window).height()&&(f=!1,c=d.top-e.outerHeight(!0)-11);e.css({top:c,left:d.left});f?e.addClass("pos-bottom"):e.addClass("pos-top")};this.showKwdNoEntryWarning=function(a){this.destroyPopupBox();var e=this.createPopupBox();e.find("div.content").addClass("message").append(this.getTextLabel("index-noentry","To locate information about this keyword, please select one of the subentries in the list."));
$("#tab-index").append(e);this.alignPopupBox(a,e);e.stop(!0,!0).fadeIn("fast")};this.showKwdTopicList=function(a,e){this.destroyPopupBox();var c=this.createPopupBox(),d=c.find("div.content");d=$("<ul></ul>").appendTo(d);for(var f=0;f<e.length;f++){var g=e[f].split("#");g=$.map(g,$.trim);if(!(0>=g.length)){var l=gTopicTable[g[0]],h=$("<li></li>").appendTo(d),n=a.find("> .hstree-node-cnt a").attr("target");g=$('<a class="hs-popuplink"></a>').attr({href:l[3]+(1<g.length?"#"+g[1]:"")}).append(l[2]);n&&
g.attr({target:n});g.on("keydown",function(m){var p=c.find("a.hs-popuplink").toArray(),r=$.inArray(this,p);switch(m.which){case 32:m.preventDefault();this.click();break;case 38:m.preventDefault();0<r&&p[--r].focus();break;case 40:m.preventDefault();r<p.length-1&&p[++r].focus();break;case 13:b.specKeyPressedOnPopupLink=!0}}).on("click",function(){b.destroyPopupBox();$("input#kwd-search").focus();b.closeNavi()}).appendTo(h)}}$("#tab-index").append(c);this.alignPopupBox(a,c);c.stop(!0,!0).fadeIn("fast")};
this.selectKeyword=function(a,e){function c(h,n,m){var p=null;if(h.length&&m<n.length){var r=/[.;,:()_{}"\/\\|<>!\?\[\]\-\+\*=%&@#]/g,k=$.trim(n[m]);k&&(k=k.replace(r,""));if(k){k=k.toLowerCase();for(var y=0;y<h.length;y++){var w=$(h[y]),q=w.data("title");q&&(q=q.replace(r,""));if(q&&(q=q.toLowerCase(),q.charAt(0)==k.charAt(0))){if(q.substring(0,k.length)==k){p=w;break}if(0<q.localeCompare(k)){a:{h=q;for(k=k.substring(0,k.length-1);""!=k;k=k.substring(0,k.length-1))if(h.substring(0,k.length)==k){k=
!0;break a}k=!1}k&&(p=w);break}else p=w}}}}return p?(n=c(b.$indexTree.hsTree("getChildren",p),n,++m))?n:p:null}function d(){b.hlKeywordNode&&b.hlKeywordNode.removeClass("hs-highlight")}if(b.specKeyPressedOnPopupLink)b.specKeyPressedOnPopupLink=!1;else{var f=null,g=a.val().split(",");g.length&&(f=c(this.$indexTree.hsTree("getChildren"),g,0));(function(h){h?b.hlKeywordNode&&h.is(b.hlKeywordNode)||(d(),b.hlKeywordNode=h,b.hlKeywordNode&&b.hlKeywordNode.addClass("hs-highlight"),b.destroyPopupBox()):(d(),
b.hlKeywordNode=null,b.destroyPopupBox())})(f);(function(){var h=0;b.hlKeywordNode&&(l=b.$indexTree.find("> ul.hstree-root > li:first-child"),l.length&&(l.is(b.hlKeywordNode)||(h=b.hlKeywordNode.position().top+b.$indexTree.scrollTop())));b.$indexTree.scrollTop(h)})();if(13==e&&b.hlKeywordNode){var l=b.$indexTree.hsTree("getActiveNode");l&&l.is(b.hlKeywordNode)?b.$indexTree.hsTree("reActivateNode"):b.$indexTree.hsTree("setActiveNode",b.hlKeywordNode)}}};this.getSelectedTab=function(){var a=$("#tabs li.ui-tabs-active > a").attr("href");
""!=a&&(a=a.substring(1));return a};this.alignTabPanel=function(){$("#tabs .ui-tabs-panel:visible").css("height",$(window).height()-$("#tabs .ui-tabs-nav").outerHeight(!0))};this.alignIndexTree=function(){var a=$("#kwd-search-box:visible");0!=a.length&&this.$indexTree.is(":visible")&&this.$indexTree.css("height",$(window).height()-(a.position().top+a.outerHeight(!0)))};this.alignSearchResultTree=function(){var a=$("#sort-result-header:visible");0!=a.length&&$("#search-result-tree:visible").css("height",
$(window).height()-(a.position().top+a.outerHeight(!0)))};this.destroyPopupBox=function(){$("#popup-box").stop(!0,!0).hide().remove()};this.setCurrentTopic=function(a){"tab-toc"==this.getSelectedTab()&&this.activateTocNode(a);this.currentTopicContext=a;if(0<=this.currentTopicContext&&(a=$("#search-result-tree"),a.length)){var e=a.hsTree("getActiveNode");e&&gTopicTable[e.data("hsTopicIndex")][0]!=this.currentTopicContext&&a.hsTree("setActiveNode",null)}};this.activateTocNode=function(a){if(this.$tocTree&&
this.$tocTree.length){var e=this.$tocTree.hsTree("getActiveNode");if(e&&a==e.attr("data-context"))return!0;if(e=this.$tocTree.hsTree("getNodeByData","context",a))return this.$tocTree.hsTree("setActiveNode",e,!0),e.find("> .hstree-node-cnt a").focus(),!0}return!1};this.updateCurrentTab=function(){this.alignTabPanel();switch(this.getSelectedTab()){case "tab-toc":0<=this.currentTopicContext&&this.activateTocNode(this.currentTopicContext);this.destroyPopupBox();break;case "tab-index":this.alignIndexTree();
$("input#kwd-search").focus();break;case "tab-search":u=u||0<$('head script[src*="search-index.min.js"]').length,this.alignSearchResultTree(),$("input#squery").focus(),this.destroyPopupBox()}};this.hideSortingPopupMenu=function(){$("#sorting-popup-menu:visible").stop(!0,!0).fadeOut("fast")};this.createSortingPopupMenu=function(){function a(c,d,f,g){$('<li id="'+d+'" class="menu-item"></li>').append(f).appendTo(c).on("click",g)}var e=$('<ul id="sorting-popup-menu"></ul>');a(e,"sort-by-rank",b.getTextLabel("sort-byrank",
"Most relevant"),function(c){c.stopPropagation();b.hideSortingPopupMenu();x(b.searchResultSortKind="rank")});a(e,"sort-by-title",b.getTextLabel("sort-bytitle","Topic title"),function(c){c.stopPropagation();b.hideSortingPopupMenu();x(b.searchResultSortKind="title")});return e};this.showResultBar=function(a){var e=$("<table></table>"),c=$("<tr></tr>").appendTo(e),d=$("<td></td>").appendTo(c);$('<span class="se-message"></span>').appendTo(d).append(a);a=$("<td></td>").appendTo(c);var f=$('<div id="sort-control" class="text-label"></div>').append(b.getTextLabel("sort-title",
"Sort by")).on("click",function(g){g.stopPropagation();if(!f.find("#sorting-popup-menu:visible").length){g=f;switch(b.searchResultSortKind){case "title":g.find("#sort-by-title").addClass("menu-item-checked");g.find("#sort-by-rank").removeClass("menu-item-checked");break;case "rank":g.find("#sort-by-title").removeClass("menu-item-checked"),g.find("#sort-by-rank").addClass("menu-item-checked")}var l=$("#sorting-popup-menu"),h=g.offset(),n=!0,m=h.top+g.outerHeight()+12;m+l.outerHeight(!0)>$(window).height()&&
(m=h.top-l.outerHeight(!0)-12,n=!1);l.css({top:m,left:h.left+g.outerWidth()-l.outerWidth()});n?(l.addClass("pos-bottom"),l.removeClass("pos-top")):(l.addClass("pos-top"),l.removeClass("pos-bottom"));l.stop(!0,!0).fadeIn("fast")}});f.appendTo(a).append(this.createSortingPopupMenu());e=$('<div id="sort-result-header"></div>').append(e);$("#search-result").empty().append(e)};this.doSearch=function(){var a=new searchEngine;if(a.search($("input#squery").val(),"phrase"==$('input[type="radio"][name="match"]:checked').val())){for(var e=
$("<ul></ul>"),c=b.$tocTree.hasClass("hs-icons")?"hs-icons":b.$tocTree.hasClass("hs-icons-c")?"hs-icons-c":"",d=0;d<a.resultItems.length;d++){var f=a.resultItems[d],g=$("<li/>").appendTo(e).attr({title:f.getTitle()}).data({hsRank:f.rank,hsTopicIndex:f.topicIndex,hsHlValue:f.getWordsParamValue()});if("hs-icons"==c){var l=f.getIconClass();l&&g.addClass(l)}$("<a></a>").attr({href:f.getRef(),target:"topic"}).appendTo(g).append(f.getTitle())}this.showResultBar(b.getTextLabel("search-found","%s topic(s) found:",
a.resultItems.length));b.$searchResultTree=$('<div id="search-result-tree"></div>').append(e).appendTo("#search-result");c&&b.$searchResultTree.addClass(c);b.alignSearchResultTree();b.$searchResultTree.hsTree({onNodeRender:function(h){h.find("> .hstree-node-btn").remove()},onActivate:function(h){var n=h.find("> .hstree-node-cnt a");if(1==n.length){var m=n.attr("href");m&&"#"!=m&&(m=m+"?highlight="+h.data("hsHlValue"),window.open(m,n.attr("target")),b.closeNavi())}},onDeactivate:function(h){h.addClass("visited-topic")}});
x(b.searchResultSortKind)}else b.$searchResultTree=null,t(b.getTextLabel("search-notopics","No topics found."));switch(a.searchMatch){case tSearchMatch.EXACT:$("input#anywords").prop("checked",!0);break;case tSearchMatch.PHRASE:$("input#phrase").prop("checked",!0)}};this.search=function(){var a=$('<div id="search-wait"></div>');$("#search-result").empty().append(a);z(function(e){e?b.doSearch():t("Error: Unable to load search index.")})}}var hsNavi=new hsNaviObj;
$(document).ready(function(){hsNavi.init();if($("#hs-index-p",parent.window.document).length){var t=null;t=parent.window.hsWebHelp;if(!t)return;$(window).on("resize",function(){$("body").toggleClass("hs-mobile",t.isMobileMode())}).trigger("resize")}hsNavi.ready=!0});